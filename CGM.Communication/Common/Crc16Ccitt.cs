using System;
using System.Collections.Generic;
using System.Text;

namespace CGM.Communication.Common
{
    //public enum InitialCrcValue { Zeros, NonZero1 = 0xffff, NonZero2 = 0x1D0F }

    //public class Crc16Ccitt
    //{
    //    const ushort poly = 4129;
    //    ushort[] table = new ushort[256];
    //    ushort initialValue = 0;

    //    //public ushort ComputeChecksum(byte[] bytes)
    //    //{
    //    //    ushort crc = this.initialValue;
    //    //    for (int i = 0; i < bytes.Length; ++i)
    //    //    {
    //    //        crc = (ushort)((crc << 8) ^ table[((crc >> 8) ^ (0xff & bytes[i]))]);
    //    //    }
    //    //    return crc;
    //    //}

    //    //public byte[] ComputeChecksumBytes(byte[] bytes)
    //    //{
    //    //    ushort crc = ComputeChecksum(bytes);
    //    //    return BitConverter.GetBytes(crc);
    //    //}


    //    //public static ushort CRC16CCITT(byte[] bytes, int initialValue_notused, int polynomial_notused, int bytesToCheck_notused)
    //    //{
    //    //    const ushort poly = 4129;
    //    //    ushort[] table = new ushort[256];
    //    //    ushort initialValue = 0xffff;
    //    //    ushort temp, a;
    //    //    ushort crc = initialValue;
    //    //    for (int i = 0; i < table.Length; ++i)
    //    //    {
    //    //        temp = 0;
    //    //        a = (ushort)(i << 8);
    //    //        for (int j = 0; j < 8; ++j)
    //    //        {
    //    //            if (((temp ^ a) & 0x8000) != 0)
    //    //                temp = (ushort)((temp << 1) ^ poly);
    //    //            else
    //    //                temp <<= 1;
    //    //            a <<= 1;
    //    //        }
    //    //        table[i] = temp;
    //    //    }
    //    //    for (int i = 0; i < bytes.Length; ++i)
    //    //    {
    //    //        crc = (ushort)((crc << 8) ^ table[((crc >> 8) ^ (0xff & bytes[i]))]);
    //    //    }
    //    //    return crc;
    //    //}

    //    //public static int CRC16CCITT(byte[] data, int initialValue, int polynomial, int bytesToCheck)
    //    //{
    //    //    // From http://introcs.cs.princeton.edu/java/61data/CRC16CCITT.java
    //    //    int crc = initialValue;
    //    //    for (int c = 0; c < bytesToCheck; c++)
    //    //    {
    //    //        byte b = data[c];
    //    //        for (int i = 0; i < 8; i++)
    //    //        {
    //    //            bool bit = ((b >> (7 - i) & 1) == 1);
    //    //            bool c15 = ((crc >> 15 & 1) == 1);
    //    //            crc <<= 1;
    //    //            if (c15 ^ bit) crc ^= polynomial;
    //    //        }
    //    //    }

    //    //    crc &= 0xffff;
    //    //    return crc;
    //    //}

    //    public Crc16Ccitt(InitialCrcValue initialValue)
    //    {
    //        this.initialValue = (ushort)initialValue;
    //        ushort temp, a;
    //        for (int i = 0; i < table.Length; ++i)
    //        {
    //            temp = 0;
    //            a = (ushort)(i << 8);
    //            for (int j = 0; j < 8; ++j)
    //            {
    //                if (((temp ^ a) & 0x8000) != 0)
    //                {
    //                    temp = (ushort)((temp << 1) ^ poly);
    //                }
    //                else
    //                {
    //                    temp <<= 1;
    //                }
    //                a <<= 1;
    //            }
    //            table[i] = temp;
    //        }
    //    }
    //}



}
